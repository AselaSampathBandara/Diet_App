<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <title>Easy-Diet</title>
  <link rel="shortcut icon" type="image/png" href="src/imgs/favicon.ico">
  <link rel="stylesheet" type="text/css" href="src/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="src/css/main.css">
  <link rel="stylesheet" type="text/css" href="src/css/font-awesome.min.css">
</head>

<body>

  <div class="container-fluid">

    <div class="row">
      <div class="col-lg-12">

        <div class="progress my-3">
          <div class="progress-bar bg-yellow" role="progressbar" aria-valuenow="16" aria-valuemin="0"
            aria-valuemax="100" style="width:45%">
          </div>
        </div>
        <label class="text-muted float-right small">3/6</label>
      </div>


      <div class="col-lg-12">
        <div class="card-position card card border-0 mx-auto">
          <div class="card-body px-0">
            <h3 class="text-size card-title blue text-center">What is your
              <br>
              Weight ?
            </h3>
            <!-- <input type="text" class="text-size form-control text-center border-0" placeholder="73 kg" autofocus> -->
            <div class="btn-container">
              <label class="switch btn-color-mode-switch">
                <input type="checkbox" name="color_mode" id="color_mode" value="1" onchange="buttonChange(this)">
                <label for="color_mode" data-on="KG" data-off="LBS" class="btn-color-mode-switch-inner"></label>
              </label>
            </div>

            <div class="text-center" id="lbsInputShow">

              <label class="height-label-style">
                <input type="number" id="lbsWeightInput" value="132" min="1" max="" class="text-input text-style text-right" />
                LBS
              </label>

            </div>

            <div class="text-center" id="kgInputShow" style="display: none;">
              <label class="height-label-style">
                <input type="number" value="25" min="1" max="" id="kgWeightInput" class="text-input text-style text-right" />
                Kg
              </label>
            </div>


          </div>

          <div class="move-buttons">
            <button type="button" class="move-buttons btn btn-info" onclick="window.location.href='height.html';">Next
              Step</button>
          </div>
        </div>
      </div>

    </div>

    <script type="text/javascript" src="src/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="src/js/popper.min.js"></script>
    <script type="text/javascript" src="src/js/bootstrap.min.js"></script>

    <script type="text/javascript">

      const switchButton = $('#color_mode');
      const switchButtonLabel = $(switchButton).closest('label').find('label');

      const kgInputField = $('#kgWeightInput');
      const lbsInputField = $('#lbsWeightInput');
      let actualLbsValue = 0;
      let actualKgValue = 0;

      function buttonChange(element) {
        if (element.checked) {
          // const switchOn = $(switchButtonLabel).attr('data-on');
          // inputField.value = ' '+switchOn;
          // $('#weightInput').val(' ' + switchOn);
          $("#lbsInputShow").css('display', 'none');
          $("#kgInputShow").css('display', 'block');

          actualKgValue = toKgs($(lbsInputField).val());
          $(kgInputField).val(roundOff(actualKgValue));


          // console.log(switchOn);
        } else {
          // const switchOff = $(switchButtonLabel).attr('data-off');
          // inputField.value = switchOff;
          // $('#weightInput').val(' ' + switchOff);
          $("#lbsInputShow").css('display', 'block');
          $("#kgInputShow").css('display', "none");

          actualLbsValue = toLbs($(kgInputField).val());
          $(lbsInputField).val(roundOff(actualLbsValue));
          // console.log(switchOff);
        }
      }


      function toKgs(lbsWeight) {
        return parseFloat(lbsWeight) / 2.2;
      }

      function toLbs(kgWeight) {
        return parseFloat(kgWeight) * 2.2;
      }

      function roundOff(number) {
        return Math.round(number, 2);
      }

    </script>

</body>

</html>